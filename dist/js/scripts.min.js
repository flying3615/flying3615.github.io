function init_document_ready(){create_colorSwatch(),self_define()}function create_colorSwatch(){$("li.color").each(function(){var e=$(this).text();$(this).css("background-color",e);var a=e.substring(1),o=parseInt(a,16);.2126*(o>>16&255)+.7152*(o>>8&255)+.0722*(o>>0&255)<85&&$(this).css("color","#f0f0f0")})}function self_define(){$("#golang").hover(function(){var e="image/golang.png"===$(this).attr("src")?"image/golang2.png":"image/golang.png";$(this).attr("src",e)})}$(function(){function e(e){e?a(e):l.forEach(function(e){"all"!=e&&a(e)})}function a(e){$.ajax({url:"https://api.github.com/repos/flying3615/flying3615.github.io/contents/image/books/"+e,success:function(e){$(e).each(function(){i++;var e=this.download_url;$(".owl-carousel").owlCarousel("add","<image src="+e+" class=book_img width=196px height=257px margin=2px>").owlCarousel("refresh")})}})}var o=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:"#panel-3",duration:"150%"}).setClassToggle("#can_help","fade-in").addTo(o),new ScrollMagic.Scene({triggerElement:"#panel-2",duration:"150%"}).setClassToggle("#about_life","left-in").addTo(o);var t=(new TimelineMax).from("blockquote h2.quote",1,{autoAlpha:0,y:-200,ease:Power0.easeNone}).from("blockquote p.credit",1,{autoAlpha:0,delay:1});new ScrollMagic.Scene({triggerElement:"#panel-4",triggerHook:.3,duration:"30%"}).setTween(t).addTo(o);var n={"#panel-1":"moss","#panel-2":"waterfall","#panel-3":"meadow","#panel-4":"thundercloud"};for(var r in n)new ScrollMagic.Scene({triggerElement:r,duration:"100%"}).setClassToggle("body",n[r]).addTo(o);new ScrollMagic.Scene({triggerElement:"#panel-1",triggerHook:.8,duration:"50%"}).setTween(TweenMax.to("#timelineJS",.5,{autoAlpha:0,scale:10,ease:Power0.easeNone})).addTo(o),new ScrollMagic.Scene({triggerElement:"#timelineJS",triggerHook:.3,duration:"20%"}).setTween(TweenMax.to(".header",.5,{y:-200,autoAlpha:0,ease:Power0.easeNone})).addTo(o),new ScrollMagic.Scene({triggerElement:".bcg-parallax",triggerHook:1,duration:"150%"}).setTween(TweenMax.from(".bcg",1,{y:"-50%",ease:Power0.easeNone})).addTo(o),(new TimelineLite).from("body > div.header > h3 > a",.5,{y:-25,autoAlpha:0,ease:Power1.easeOut}).from(".go_myself",.5,{x:-25,autoAlpha:0,ease:Power1.easeOut},"-=0.15").from("#self-taught",.5,{x:25,autoAlpha:0,ease:Power1.easeOut},"-=0.15").from("#self-desc",.5,{y:25,autoAlpha:0,ease:Power1.easeOut},"-=0.15").from("#timelineJS",.5,{y:-25,autoAlpha:0,ease:Power1.easeOut},"-=0.15"),(new TimelineLite).staggerFrom(".post",.5,{x:100,autoAlpha:0,ease:Power1.easeOut},.1),TweenMax.from("#golang",2,{x:200,ease:Power1.easeOut}),$("#all").click(function(){e()}),$(".owl-carousel").owlCarousel({loop:!0,dots:!1,animateOut:"slideOutDown",animateIn:"flipInX",autoplay:!0,autoplayTimeout:1500,autoplayHoverPause:!0,margin:10,nav:!0,responsive:{0:{items:1},600:{items:3},1e3:{items:5}}});var l=["all","backend","database","frontend"],i=0;l.forEach(function(a){$("#"+a).click(function(){for(;0!=i;i--)$(".owl-carousel").trigger("remove.owl.carousel",i);$(".owl-carousel").trigger("refresh.owl.carousel"),"all"==a?e():e(a)})}),e()}),$(document).ready(function(){init_document_ready()});